{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\GymNest\\\\GymNest-IS\\\\frontend\\\\src\\\\pages\\\\MembershipPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Box, Typography } from '@mui/material';\nimport MembershipStatus from '../components/MembershipStatus';\nimport PaymentHistory from '../components/PaymentHistory';\nimport PayPalButton from '../components/PayPalButton';\nimport { AuthContext } from '../components/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MembershipPage = () => {\n  _s();\n  const {\n    user,\n    token\n  } = useContext(AuthContext); // Přístup k JWT tokenu přes kontext\n  const [membershipInfo, setMembershipInfo] = useState(null);\n  const [paymentHistory, setPaymentHistory] = useState([]);\n  useEffect(() => {\n    const fetchMembershipInfo = async () => {\n      try {\n        const membershipResponse = await axios.get('http://localhost:8080/membership/info', {\n          //TODO url\n          headers: {\n            'Authorization': `Bearer ${token}` // Předání JWT tokenu v headeru\n          }\n        });\n        setMembershipInfo(membershipResponse.data);\n      } catch (error) {\n        console.error(\"Error fetching membership info:\", error);\n      }\n    };\n    const fetchPaymentHistory = async () => {\n      try {\n        const paymentHistoryResponse = await axios.get('http://localhost:8080/membership/payments', {\n          //TODO url\n          headers: {\n            'Authorization': `Bearer ${token}` // Předání JWT tokenu v headeru\n          }\n        });\n        setPaymentHistory(paymentHistoryResponse.data);\n      } catch (error) {\n        console.error(\"Error fetching payment history:\", error);\n      }\n    };\n    if (token) {\n      fetchMembershipInfo();\n      fetchPaymentHistory();\n    }\n  }, [token]);\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      children: \"Pros\\xEDm, p\\u0159ihlaste se pro zobrazen\\xED informac\\xED o \\u010Dlenstv\\xED.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      padding: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      sx: {\n        marginBottom: 2\n      },\n      children: \"Moje \\u010Clenstv\\xED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), membershipInfo && /*#__PURE__*/_jsxDEV(MembershipStatus, {\n      ...membershipInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(PaymentHistory, {\n      payments: paymentHistory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PayPalButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(MembershipPage, \"o/S62qdwJk772jaq6da5dLar3wI=\");\n_c = MembershipPage;\nexport default MembershipPage;\nvar _c;\n$RefreshReg$(_c, \"MembershipPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","Box","Typography","MembershipStatus","PaymentHistory","PayPalButton","AuthContext","jsxDEV","_jsxDEV","MembershipPage","_s","user","token","membershipInfo","setMembershipInfo","paymentHistory","setPaymentHistory","fetchMembershipInfo","membershipResponse","get","headers","data","error","console","fetchPaymentHistory","paymentHistoryResponse","variant","children","fileName","_jsxFileName","lineNumber","columnNumber","sx","padding","marginBottom","payments","_c","$RefreshReg$"],"sources":["D:/Documents/GymNest/GymNest-IS/frontend/src/pages/MembershipPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { Box, Typography } from '@mui/material';\r\nimport MembershipStatus from '../components/MembershipStatus';\r\nimport PaymentHistory from '../components/PaymentHistory';\r\nimport PayPalButton from '../components/PayPalButton';\r\nimport { AuthContext } from '../components/AuthContext';\r\n\r\nconst MembershipPage = () => {\r\n  \r\nconst { user, token } = useContext(AuthContext); // Přístup k JWT tokenu přes kontext\r\n  const [membershipInfo, setMembershipInfo] = useState(null);\r\n  const [paymentHistory, setPaymentHistory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchMembershipInfo = async () => {\r\n      try {\r\n        const membershipResponse = await axios.get('http://localhost:8080/membership/info', { //TODO url\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`, // Předání JWT tokenu v headeru\r\n          }\r\n        });\r\n        setMembershipInfo(membershipResponse.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching membership info:\", error);\r\n      }\r\n    };\r\n\r\n    const fetchPaymentHistory = async () => {\r\n      try {\r\n        const paymentHistoryResponse = await axios.get('http://localhost:8080/membership/payments', { //TODO url\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`, // Předání JWT tokenu v headeru\r\n          }\r\n        });\r\n        setPaymentHistory(paymentHistoryResponse.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching payment history:\", error);\r\n      }\r\n    };\r\n\r\n    if (token) {\r\n      fetchMembershipInfo();\r\n      fetchPaymentHistory();\r\n    }\r\n  }, [token]);\r\n\r\n  if (!token) {\r\n    return <Typography variant=\"h6\">Prosím, přihlaste se pro zobrazení informací o členství.</Typography>;\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ padding: 3 }}>\r\n      <Typography variant=\"h4\" sx={{ marginBottom: 2 }}>Moje Členství</Typography>\r\n      {membershipInfo && <MembershipStatus {...membershipInfo} />}\r\n      <PaymentHistory payments={paymentHistory} />\r\n      <PayPalButton />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MembershipPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}